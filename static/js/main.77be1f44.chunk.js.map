{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","reducer.js","context.js","components/GoodsItem.jsx","components/GoodsList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","reducer","state","type","payload","goods","loading","itemIndex","order","findIndex","orderItem","newOrder","newItem","quantity","map","index","alertName","name","filter","el","newQuantity","isBasketShow","ShopContext","createContext","initialState","ContextProvider","children","useReducer","value","dispatch","closeAlert","addToBasket","item","incQuantity","itemId","decQuantity","removeFromBasket","handleBasketShow","setGoods","data","Provider","GoodsItem","props","description","price","full_background","useContext","src","alt","onClick","GoodsList","length","Cart","Function","prototype","BasketItem","BasketList","totalPrice","reduce","sum","Alert","useEffect","timerId","setTimeout","clearTimeout","Shop","fetch","headers","Authorization","process","then","response","json","featured","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.77be1f44.chunk.js","sourcesContent":["function Header() {\n    return <nav className=\"blue darken-4\">\n        <div className=\"nav-wrapper\">\n            <a href=\"#\" className=\"brand-logo\">React Shop</a>\n            <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n                <li><a href=\"!#\">Repo</a></li>\n\n            </ul>\n        </div>\n    </nav>\n}\nexport { Header };","function Footer() {\n    return <footer className=\"page-footer blue accent-1\">\n        <div className=\"footer-copyright\">\n            <div className=\"container\">\n                © {new Date().getFullYear()} Copyright Text\n                <a className=\"grey-text text-lighten-4 right\" href=\"#!\">Repo</a>\n            </div>\n        </div>\n    </footer>\n}\nexport { Footer };","function Preloader() {\n\n    return (\n        <div className=\"preloader-wrapper big active\">\n            <div className=\"spinner-layer spinner-blue\">\n                <div className=\"circle-clipper left\">\n                    <div className=\"circle\"></div>\n                </div>\n                <div className=\"gap-patch\">\n                    <div className=\"circle\"></div>\n                </div>\n                <div className=\"circle-clipper right\">\n                    <div className=\"circle\"></div>\n                </div>\n            </div>\n        </div>\n    )\n}\nexport {Preloader};","export function reducer(state, { type, payload }) {\n    switch (type) {\n        case 'SET_GOODS':\n            return {\n                ...state,\n                goods: payload || [],\n                loading: false,\n            };\n        case 'ADD_TO_BASKET':\n            const itemIndex = state.order.findIndex(\n                (orderItem) => orderItem.id === payload.id);\n            let newOrder = null;\n            if (itemIndex < 0) {\n                const newItem = {\n                    ...payload,\n                    quantity: 1,\n                }\n                newOrder = [...state.order, newItem];\n\n            } else {\n                newOrder = state.order.map((orderItem, index) => {\n                    if (index === itemIndex) {\n                        return {\n                            ...orderItem,\n                            quantity: orderItem.quantity + 1,\n                        }\n                    } else {\n                        return orderItem;\n                    }\n                });\n            }\n\n            return {\n                ...state,\n                order: newOrder,\n                alertName: payload.name,\n            }\n        case 'REMOVE_FROM_BASKET':\n            return {\n                ...state,\n                order: state.order.filter((el) => el.id !== payload.id)\n            }\n        case 'INCREMENT_QUANTITY':\n            return {\n                ...state,\n                order: state.order.map((el) => {\n                    if (el.id === payload.id) {\n                        const newQuantity = el.quantity + 1;\n                        return {\n                            ...el,\n                            quantity: newQuantity,\n                        };\n                    } else {\n                        return el;\n                    }\n                }),\n            }\n        case 'DECREMENT_QUANTITY':\n            return {\n                ...state,\n                order: state.order.map((el) => {\n                    if (el.id === payload.id) {\n                        const newQuantity = el.quantity - 1;\n                        return {\n                            ...el,\n                            quantity: newQuantity >= 0 ? newQuantity : 0,\n                        };\n                    } else {\n                        return el;\n                    }\n                }),\n            }\n        case 'CLOSE_ALERT':\n            return {\n                ...state,\n                alertName: ''\n            }\n        case 'TOGGLE_BASKET':\n            return {\n                ...state,\n                isBasketShow: !state.isBasketShow,\n            }\n        default:\n            return state;\n    }\n}","import { createContext, useReducer } from 'react';\nimport { reducer } from './reducer';\n\nexport const ShopContext = createContext();\nconst initialState = {\n    goods: [],\n    loading: true,\n    order: [],\n    isBasketShow: false,\n    alertName: '',\n}\n\nexport const ContextProvider = ({ children }) => {\n    const [value, dispatch] = useReducer(reducer, initialState);\n    value.closeAlert = () => {\n        dispatch({ type: 'CLOSE_ALERT' })\n    };\n    value.addToBasket = (item) => {\n        dispatch({ type: 'ADD_TO_BASKET', payload: item });\n    }\n    value.incQuantity = (itemId) => {\n        dispatch({ type: 'INCREMENT_QUANTITY', payload: { id: itemId } });\n    }\n    value.decQuantity = (itemId) => {\n        dispatch({ type: 'DECCREMENT_QUANTITY', payload: { id: itemId } });\n    }\n    value.removeFromBasket = (itemId) => {\n        dispatch({ type: 'REMOVE_FROM_BASKET', payload: { id: itemId } });\n    }\n    value.handleBasketShow = () => {\n        dispatch({ type: 'TOGGLE_BASKET' })\n    }\n    value.setGoods = (data) => {\n        dispatch({ type: 'SET_GOODS', payload: data })\n    }\n\n    return <ShopContext.Provider value={value}>\n        {children}\n    </ShopContext.Provider>\n}","import {useContext} from 'react';\nimport {ShopContext} from '../context';\n\nfunction GoodsItem(props) {\n    const {\n        id,\n        name,\n        description,\n        price,\n        full_background,\n    } = props;\n    const {addToBasket} = useContext(ShopContext);\n\n    return (\n        <div className=\"card\">\n            <div className=\"card-image\">\n                <img src={full_background} alt={name} />\n            </div>\n            <div className=\"card-content\">\n                <span className=\"card-title\">{name}</span>\n                <p>{description}</p>\n            </div>\n            <div className=\"card-action\">\n                <button\n                    className=\"btn\"\n                    onClick={() => addToBasket({\n                        id,\n                        name,\n                        price,\n                    })\n                }>Купить</button>\n                <span className=\"card-price right\">{price} руб.</span>\n            </div>\n        </div>\n        \n    )\n}\nexport {GoodsItem};","import {useContext} from 'react';\nimport {ShopContext} from '../context';\nimport {GoodsItem} from './GoodsItem';\n\nfunction GoodsList() {\n    const { goods = [] } = useContext(ShopContext);\n    if(!goods.length) {\n        return <h3>Nothing here</h3>;\n    }\n    return <div className=\"goods\">\n            {goods.map((item) => (\n                <GoodsItem key={item.id} {...item} />\n            ))}\n        </div>\n    \n}\n\nexport {GoodsList};","import {useContext} from 'react';\nimport {ShopContext} from '../context';\n\nfunction Cart(props) {\n    const { order, handleBasketShow = Function.prototype } = useContext(ShopContext);\n    const quantity = order.length;\n\n    return (\n        <div className=\"cart  indigo lighten-2 white-text\" onClick={handleBasketShow}>\n            <i className=\"material-icons\">shopping_cart</i>\n            {quantity ? <span className=\"cart-quantity\">{quantity}</span> : null}\n        </div>\n    )\n}\nexport {Cart};","import {useContext} from 'react';\nimport {ShopContext} from '../context';\n\nfunction BasketItem(props) {\n    const {\n        id,\n        name,\n        price,\n        quantity,\n    } = props;\n\n    const {removeFromBasket, incQuantity, decQuantity} = useContext(ShopContext);\n\n    return (\n        <li className=\"collection-item\">\n            {name} <i className=\"material-icons basket-quantity\" onClick={() => decQuantity(id)}>remove</i>x{quantity} {' '} <i className=\"material-icons basket-quantity\" onClick={() => incQuantity(id)}>add</i> = {price * quantity}\n            <span className=\"secondary-content\"\n                onClick={() => removeFromBasket(id )}\n            >\n                <i className=\"material-icons basket-delete\">close</i>\n            </span>    \n        </li>\n    )\n}\nexport {BasketItem};","import {useContext} from 'react';\nimport {ShopContext} from '../context';\n\nimport {BasketItem} from './BasketItem';\n\nfunction BasketList() {\n    const {order = [], handleBasketShow = Function.prototype,} = useContext(ShopContext);\n    const totalPrice = order.reduce((sum, el) => {\n        return sum + el.price * el.quantity;\n    }, 0)\n\n    return (\n        <ul className=\"collection basket-list\">\n            <li className=\"collection-item active\">Корзина</li>\n            {order.length ? order.map(item => (\n                <BasketItem\n                    key={item.id}\n                    {...item} \n                />\n            )) :  <li className=\"collection-item\">Корзина пуста</li>\n        }\n            <li className=\"collection-item active\">Общая стоимость: {totalPrice} руб.</li>\n            <li className=\"collection-item\">\n                <button className=\" btn btn-small\">Оформить</button>\n            </li>\n            <i className=\"material-icons basket-close\" onClick={handleBasketShow}>close</i>\n      </ul>\n    )\n}\nexport{BasketList}","import {useEffect, useContext} from 'react';\nimport {ShopContext} from '../context';\n\nfunction Alert() {\n    const {alertName: name = '', closeAlert = Function.prototype } = useContext(ShopContext);\n\n    useEffect(() => {\n        const timerId = setTimeout(closeAlert, 3000);\n        return ()=> {\n            clearTimeout(timerId);\n        }\n    }, [name])\n\n    return (\n        <div id=\"toast-container\">\n            <div className=\"toast\">{name} добавлен в корзину</div>\n        </div>\n    )\n}\nexport {Alert};","import {useEffect, useContext} from 'react';\n// import { API_KEY, API_URL } from '../config';\nimport {Preloader} from './Preloader';\nimport {GoodsList} from './GoodsList';\nimport {Cart} from './Cart';\nimport {BasketList} from './BasketList';\nimport {Alert} from './Alert';\nimport { ShopContext } from '../context';\n\nconst API_KEY = process.env.REACT_APP_API_KEY;\nconst API_URL = 'https://fortniteapi.io/v1/shop?lang=ru';\n\nfunction Shop() {\n    const {goods, loading, order, isBasketShow, alertName, setGoods} = useContext(ShopContext);\n    \n\n    useEffect(function getGoods() {\n        fetch(API_URL, {\n            headers: {\n                Authorization: API_KEY,\n            },\n        })\n            .then((response) => response.json())\n            .then((data) => {\n               setGoods(data.featured);\n            })\n    }, []);\n\n    return (\n        <main className=\"container content\">\n            <Cart quantity={order.length} />\n            {loading ? <Preloader /> : <GoodsList  />}\n            {\n            isBasketShow && (\n                    <BasketList />\n            )}\n            {\n                alertName && <Alert />\n            }\n        </main>\n    )\n};\nexport {Shop};","import { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\nimport { ContextProvider } from './context';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <ContextProvider>\n        <Shop />\n      </ContextProvider>\n      <Footer />\n    </>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}